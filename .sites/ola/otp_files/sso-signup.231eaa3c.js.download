"use strict";Vue.component("sso-signup",{_scopeId:"data-v-6719d0b4",owCSS:".sso[data-v-6719d0b4]{position:relative;padding:25px;text-align:center;margin:8% auto 16px;width:372px;border-radius:4px;background-color:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.1)}.sso__title[data-v-6719d0b4]{font-size:18px;font-weight:500;padding-bottom:8px;letter-spacing:-.4px}.sso__sub-title[data-v-6719d0b4]{opacity:.5;font-size:14px;line-height:1.21;letter-spacing:-.2px}.sso__new-user__email-wrapper[data-v-6719d0b4],.sso__new-user__name-wrapper[data-v-6719d0b4],.sso__new-user__otp-wrapper[data-v-6719d0b4]{position:relative;margin-top:16px;height:48px;border-radius:4px;background-color:#fff;border:1px solid #e5e5e5}.sso__new-user__email[data-v-6719d0b4],.sso__new-user__name[data-v-6719d0b4]{display:inline-block;vertical-align:middle;opacity:.5;font-size:16px;letter-spacing:-.3px;height:44px;border-radius:4px;background-color:#fff;border:none;width:75%;padding-left:8px;outline:none}.sso__new-user__name-wrapper[data-v-6719d0b4]{border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:0}.sso__new-user__email-wrapper[data-v-6719d0b4]{margin-top:0;border-top-left-radius:0;border-top-right-radius:0}.sso__clear-icon[data-v-6719d0b4]{padding:0;border:0;width:24px;height:24px;opacity:1}.sso__cta[data-v-6719d0b4]{margin-top:15px;border-radius:4px;background-color:#e6e6e6;padding:12px;cursor:pointer;color:rgba(0,0,0,.4)}.sso__cta.enabled[data-v-6719d0b4]{background-color:#000;color:#cddc39}.sso__notice[data-v-6719d0b4]{width:100%;opacity:.5;font-size:12px;line-height:1.4;text-align:center;margin:0 auto}.sso__notice a[data-v-6719d0b4]{color:#000}.sso__clear[data-v-6719d0b4]{position:absolute;width:40px;right:0;top:12px}.sso__new-user__otp-wrapper input[type=number][data-v-6719d0b4]{-webkit-text-security:disc}@media screen and (max-width:500px){.sso[data-v-6719d0b4]{margin:0;background:none;box-shadow:none;width:100%;padding:12px 0 0}.sso__cta[data-v-6719d0b4]{border-radius:4px;z-index:10;margin:20px 8px 8px}.sso__new-user__email-wrapper[data-v-6719d0b4],.sso__new-user__name-wrapper[data-v-6719d0b4]{width:94%;margin:0 auto 10px;height:46px}.sso__new-user__name-wrapper[data-v-6719d0b4]{margin-top:20px;margin-bottom:0}.sso__notice[data-v-6719d0b4]{width:80%;margin:10px auto 0}}",render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sso__wrapper"},[a("div",{staticClass:"sso"},[t.owRegistry["sso-header"]?a("sso-header",{attrs:{hideback:!1},on:{back:t.goback}}):t._e(),t._v(" "),a("div",{staticClass:"sso__content"},[a("div",{staticClass:"sso__title"},[t._v(t._s(t.info.title))]),t._v(" "),a("div",{staticClass:"sso__sub-title",on:{click:t.click}},[t._v(t._s(t.info.subtitle))]),t._v(" "),a("div",{staticClass:"sso__new-user__name-wrapper"},[a("ow-icon",{attrs:{name:"USER_PIC",width:"24",height:"24",viewbox:"0 0 24 24"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"sso__new-user__name",attrs:{type:"text",placeholder:"Enter full name"},domProps:{value:t.name},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.click(e)},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.name,expression:"name"}],staticClass:"sso__clear",on:{click:function(){t.name=""}}},[a("div",{staticClass:"sso__clear-icon"},[t.owRegistry["ow-icon"]?a("ow-icon",{attrs:{name:"CLEAR",width:"24",height:"24",viewbox:"0 0 24 24",opacity:"1"}}):t._e()],1)])],1),t._v(" "),a("div",{staticClass:"sso__new-user__email-wrapper"},[a("ow-icon",{attrs:{name:"EMAIL",width:"24",height:"24",viewbox:"0 0 24 24"}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"sso__new-user__email",attrs:{type:"text",placeholder:"Enter email address (optional)"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.email,expression:"email"}],staticClass:"sso__clear",on:{click:function(){t.email=""}}},[a("div",{staticClass:"sso__clear-icon"},[t.owRegistry["ow-icon"]?a("ow-icon",{attrs:{name:"CLEAR",width:"24",height:"24",viewbox:"0 0 24 24",opacity:"1"}}):t._e()],1)])],1)]),t._v(" "),a("div",{staticClass:"sso__cta",class:{enabled:t.enableCTA},on:{click:t.click}},[t._v(t._s(t.info.cta))])],1),t._v(" "),t._m(0),t._v(" "),t.owRegistry["sso-bridge"]?a("sso-bridge",{on:{interaction:t.populateDetails}}):t._e()],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sso__notice"},[e._v("\n        By registering, you are agreeing to Ola's\n        "),a("a",{attrs:{href:"https://docs.google.com/viewer?url=https://s3-ap-southeast-1.amazonaws.com/ola-prod-website/tnc_website.pdf",target:"_blank"}},[e._v("\n           Terms & Conditions\n        ")])])}],name:"ssoSignup",data:function(){return{toast:{show:!1,type:"",content:"",captcha:Object}}},props:{name:String,email:String,captcha:Object,trackingParams:Object},mounted:function(){var e=this,t=this;setTimeout(function(){t.$el.querySelector(".sso__new-user__name").focus()},500),this.trackEvent&&this.trackEvent({eventName:"signup_page_load",eventValue:this.trackingParams}),Vue.nextTick(function(){window.addEventListener("message",e.receiveMessage,!1)})},watch:{name:function(e){this.$emit("setstate",{name:e})},email:function(e){this.$emit("setstate",{email:e})}},methods:{receiveMessage:function(e){var t=this;if(/^https?:\/\/([a-zA-Z\d-]+\.){0,}olacabs\.com\/*/.test(e.origin)){var a=(e.data&&e.data.message).split(" ");a.length&&a.forEach(function(e){4===(e=e.replace(/\./g,"")).length&&parseInt(e)&&/\d{4}$/.test(e)&&t.$emit("setstate",{autofillotp:e})})}},populateDetails:function(e){e["autoread-userinfo"]&&(this.name=e["autoread-userinfo"].name,this.email=e["autoread-userinfo"].email,this.$emit("setstate",{email:this.email,name:this.name}),e["autoread-userinfo"].app_metadata&&(this.trackingParams.app_metadata=e["autoread-userinfo"].app_metadata))},click:function(){this.name.length?this.email.length&&!/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(this.email)?(this.toast={show:!0,type:"warning",content:"Please enter a valid email ID"},this.$emit("showtoast",this.toast)):this.$emit("screen","verifyotp"):(this.toast={show:!0,type:"warning",content:"Please enter your name"},this.email,this.$emit("showtoast",this.toast)),this.sendGAEvent&&this.sendGAEvent("SSO","save_details_clicked"),this.trackEvent&&(this.trackingParams.name=this.name,this.trackingParams.email=this.email,this.trackEvent({eventName:"save_details_clicked",eventValue:this.trackingParams}))},goback:function(){this.$emit("screen","login"),this.captcha.gcaptcha="",this.captcha.reset=!0,this.$emit("setstate",{captcha:this.captcha})}},computed:{info:function(){return{title:"Create your Ola account",subtitle:"Enter your details to create an account",cta:"Continue",url:"/login"}},enableCTA:function(){return this.name.length}}});
//# sourceMappingURL=../sourcemap/components/sso-signup.231eaa3c.js.map
